---
- name: Add the repository for docker
  command: yum-config-manager --add-repo=https://download.docker.com/linux/centos/docker-ce.repo

- name: Install docker-ce
  yum:
    name: docker-ce
    state: installed
  
- name: Install docker-ce-cli
  yum:
    name: docker-ce-cli
    state: installed

- name: Install containerd.io
  yum:
    name: containerd.io
    state: installed
  
- name: Enable the docker service
  service:
    name: docker
    enabled: yes  
  notify: restart docker